import{a as p,Q as w}from"./QBtn-D8480mzh.js";import{Q as g}from"./QInput-DeCCzwJp.js";import{Q as h}from"./QForm-DW5X4C8W.js";import{Q as b}from"./QPage-BzJdOaBP.js";import{Q as P}from"./QScrollArea-Dn8u3n7t.js";import{u as Q}from"./client-QlkOkMRv.js";import{_ as y,d as q,B as x,C as S,D as i,f as s,I as a,K as L,N as V,r as u,c as k,O as _}from"./index-DOTylPaD.js";import"./vm-Dje3Jtrf.js";import"./use-dark-D5Piu_5O.js";import"./dom-Ct-PwuGf.js";import"./use-id-SBtPnhzD.js";import"./focus-manager-BJWzFvJg.js";import"./private.use-form-Dz4yyHmf.js";import"./format-DKus2ytU.js";import"./index-NIGUFBhG.js";const B=q({name:"LoginPage",setup(){const o=V(),e=Q(),n=u(null),r=u(null),l=u(!1),c=k(()=>e.loginStatus),t=u(null);function f(){if(r.value&&n.value){l.value=!0;const d={email:r.value,password:n.value};e.loginAccount(d).then(()=>{m()}).catch(v=>{console.error("Gagal Koneksi Ke Server:",v),l.value=!1})}}function m(){e.checkLoginStatus().then(()=>{c.value===!0&&o.replace("/admin"),l.value=!1}).catch(d=>{console.error("Gagal Koneksi Ke Server:",d),l.value=!1})}return _(()=>{m()}),{inputPassword:n,inputEmail:r,loadingProcess:l,infoLogin:t,loginAccount:f}}}),E={class:"row justify-center"},K={class:"col-xs-11 col-sm-8 col-md-6 q-pt-xl"},$={class:"column flex-center q-gutter-y-md q-py-xl"},A={class:"col-12 q-px-md",style:{"max-width":"400px",width:"100%"}},C={class:"text-center text-white q-pt-lg"};function I(o,e,n,r,l,c){return S(),x(P,null,{default:i(()=>[s(b,null,{default:i(()=>[a("div",E,[a("div",K,[e[3]||(e[3]=a("div",{class:"text-h4 text-weight-bold text-center text-white"},"USER LOGIN",-1)),a("div",$,[a("div",A,[s(h,{class:"q-gutter-y-md",onSubmit:e[2]||(e[2]=t=>o.loginAccount())},{default:i(()=>[s(g,{"hide-bottom-space":"",type:"text",rules:[t=>!!t||"Email is required"],disable:o.loadingProcess,outlined:"","bg-color":"white",color:"negative",modelValue:o.inputEmail,"onUpdate:modelValue":e[0]||(e[0]=t=>o.inputEmail=t),label:"Email"},{prepend:i(()=>[s(p,{name:"person"})]),_:1},8,["rules","disable","modelValue"]),s(g,{"hide-bottom-space":"",rules:[t=>!!t||"Password is required"],disable:o.loadingProcess,type:"password",outlined:"","bg-color":"white",color:"negative",modelValue:o.inputPassword,"onUpdate:modelValue":e[1]||(e[1]=t=>o.inputPassword=t),label:"Password"},{prepend:i(()=>[s(p,{name:"lock"})]),_:1},8,["rules","disable","modelValue"]),s(w,{size:"lg",loading:o.loadingProcess,type:"submit",class:"full-width q-py-md",label:"Log in",color:"negative"},null,8,["loading"])]),_:1}),a("div",C,L(o.infoLogin),1)])])])])]),_:1})]),_:1})}const Y=y(B,[["render",I]]);export{Y as default};
