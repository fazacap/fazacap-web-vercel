import{Q as w}from"./vm-HaJd5oUN.js";import{Q as h}from"./QCheckbox-DctpxeA6.js";import{Q as V,a as b,b as v}from"./QList-dyqOPi_H.js";import{Q as r}from"./QBtn-BfV3khVY.js";import{Q as C}from"./QCard-BVoHp8w6.js";import{Q as x}from"./QSpace-BYvxNyv5.js";import{Q as y}from"./QPageSticky-C9LIyX4f.js";import{Q as I}from"./QPage-B6OzWf6f.js";import{_ as A,d as $,B as M,C as c,D as o,E as _,f as e,I as a,H as B,F as q,L as z,af as D,K as p,c as S,N as L,r as Q,w as N}from"./index-DP_naqv6.js";import{u as P}from"./admin-DnIvLMq6.js";import"./use-dark-DxA3OJOx.js";import"./private.use-form-sLVFiZHC.js";import"./dom-BjzxHFRD.js";import"./index-NIGUFBhG.js";const U=$({name:"DashboardPage",setup(){const s=P(),l=S(()=>s.listMessage),k=L(),f=Q([!1]),g=Q(!1),i=Q([]);function t(n){k.push("/admin/message/"+n)}function m(){if(g.value)for(let n in i.value)i.value[n].selected=!0;else for(let n in i.value)i.value[n].selected=!1}function d(n){const u={id:n};s.deleteDataMessage(u)}return s.getListMessage(),N(i.value,()=>{console.log("update"),i.value.reduce((n,u)=>{u.selected&&f.value.push(u.id)})}),{viewMessage:t,selectAllItem:m,deleteMessage:d,listMessage:l,selectedItem:f,selectAll:g,dataTable:i}}}),E={key:0,class:"flex flex-center",style:{height:"70vh"}},F={key:1},R={style:{"padding-top":"25px"}},T={class:"row items-center"},H={class:"col-3"},K={class:"col-5 ellipsis q-px-md"},j={class:"col q-px-md"},G={class:"text-grey-8 q-gutter-xs"};function J(s,l,k,f,g,i){return c(),M(I,null,{default:o(()=>[s.listMessage?(c(),_("div",F,[a("div",R,[e(C,null,{default:o(()=>[(c(!0),_(q,null,z(s.listMessage,(t,m)=>(c(),M(V,{bordered:"",separator:"",key:t},{default:o(()=>[e(b,{class:D({"item-select-new":t.baca_pesan===0,"item-select-old":t.baca_pesan===1}),active:t.selected,"active-class":"item-selected"},{default:o(()=>[e(v,{avatar:"",top:""},{default:o(()=>[e(h,{color:"negative",modelValue:s.selectedItem[m],"onUpdate:modelValue":d=>s.selectedItem[m]=d},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(v,{class:"cursor-pointer",onClick:d=>s.viewMessage(t.id)},{default:o(()=>[a("div",T,[a("div",H,p(t.nama_pengirim),1),a("div",K,p(t.isi_pesan),1),a("div",j,p(t.tanggal_dikirim),1)])]),_:2},1032,["onClick"]),e(v,{side:""},{default:o(()=>[a("div",G,[e(r,{class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"delete",onClick:d=>s.deleteMessage(t.id)},null,8,["onClick"]),e(r,{class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"done"}),e(r,{size:"12px",flat:"",dense:"",round:"",icon:"more_vert"})])]),_:2},1024)]),_:2},1032,["class","active"])]),_:2},1024))),128))]),_:1}),B(" "+p(s.selectedItem),1)]),e(y,{expand:"",position:"top",class:"bg-white"},{default:o(()=>[e(C,{class:"row full-width items-center q-gutter-x-md q-px-md"},{default:o(()=>[e(h,{color:"negative",modelValue:s.selectAll,"onUpdate:modelValue":l[0]||(l[0]=t=>s.selectAll=t),onClick:s.selectAllItem},null,8,["modelValue","onClick"]),l[2]||(l[2]=a("div",null,"All",-1)),e(r,{onClick:l[1]||(l[1]=t=>s.deleteMessage(s.data._id)),color:"negative",round:"",flat:"",icon:"delete"}),l[3]||(l[3]=a("div",null,"Delete",-1)),e(x),l[4]||(l[4]=a("div",{class:"text-subtitle1"},"1 - 50",-1)),e(r,{color:"negative",round:"",flat:"",icon:"chevron_left"}),e(r,{color:"negative",round:"",flat:"",icon:"chevron_right"})]),_:1,__:[2,3,4]})]),_:1})])):(c(),_("div",E,[e(w,{color:"primary",size:"3em",thickness:10})]))]),_:1})}const de=A(U,[["render",J]]);export{de as default};
