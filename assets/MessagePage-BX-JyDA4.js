import{Q as w}from"./vm-Cum-X2Tn.js";import{Q as h}from"./QCheckbox-Css0yGCT.js";import{Q as b,a as x,b as g}from"./QList-pM47zKle.js";import{Q as r}from"./QBtn-DcUWACGy.js";import{Q as C}from"./QCard-Cgevg6ht.js";import{Q as y}from"./QSpace-Cpo8IC41.js";import{Q as V}from"./QPageSticky-BUN0HrO1.js";import{Q as A}from"./QPage-B7sjdqaU.js";import{_ as I,d as $,B as M,C as c,D as o,E as v,f as e,I as a,F as B,L as q,af as z,K as _,c as D,N as S,r as Q,w as L}from"./index-By7GZxkw.js";import{u as P}from"./admin-C508mFoy.js";import"./use-dark-CfLceHQi.js";import"./private.use-form-BPRmAz34.js";import"./dom-DMjCjmQ-.js";import"./index-NIGUFBhG.js";const N=$({name:"DashboardPage",setup(){const s=P(),l=D(()=>s.listMessage),k=S(),p=Q([!1]),f=Q(!1),i=Q([]);function t(n){k.push("/admin/message/"+n)}function u(){if(f.value)for(let n in i.value)i.value[n].selected=!0;else for(let n in i.value)i.value[n].selected=!1}function d(n){const m={id:n};s.deleteDataMessage(m)}return s.getListMessage(),L(i.value,()=>{console.log("update"),i.value.reduce((n,m)=>{m.selected&&p.value.push(m.id)})}),{viewMessage:t,selectAllItem:u,deleteMessage:d,listMessage:l,selectedItem:p,selectAll:f,dataTable:i}}}),U={key:0,class:"flex flex-center",style:{height:"70vh"}},E={key:1},F={style:{"padding-top":"25px"}},R={class:"row items-center"},K={class:"col-3"},T={class:"col-5 ellipsis q-px-md"},j={class:"col q-px-md"},G={class:"text-grey-8 q-gutter-xs"};function H(s,l,k,p,f,i){return c(),M(A,null,{default:o(()=>[s.listMessage?(c(),v("div",E,[a("div",F,[e(C,null,{default:o(()=>[(c(!0),v(B,null,q(s.listMessage,(t,u)=>(c(),M(b,{bordered:"",separator:"",key:t},{default:o(()=>[e(x,{class:z({"item-select-new":t.baca_pesan===0,"item-select-old":t.baca_pesan===1}),active:t.selected,"active-class":"item-selected"},{default:o(()=>[e(g,{avatar:"",top:""},{default:o(()=>[e(h,{color:"negative",modelValue:s.selectedItem[u],"onUpdate:modelValue":d=>s.selectedItem[u]=d},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(g,{class:"cursor-pointer",onClick:d=>s.viewMessage(t.id)},{default:o(()=>[a("div",R,[a("div",K,_(t.nama_pengirim),1),a("div",T,_(t.isi_pesan),1),a("div",j,_(t.tanggal_dikirim),1)])]),_:2},1032,["onClick"]),e(g,{side:""},{default:o(()=>[a("div",G,[e(r,{class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"delete",onClick:d=>s.deleteMessage(t.id)},null,8,["onClick"]),e(r,{class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"done"}),e(r,{size:"12px",flat:"",dense:"",round:"",icon:"more_vert"})])]),_:2},1024)]),_:2},1032,["class","active"])]),_:2},1024))),128))]),_:1})]),e(V,{expand:"",position:"top",class:"bg-white"},{default:o(()=>[e(C,{class:"row full-width items-center q-gutter-x-md q-px-md"},{default:o(()=>[e(h,{color:"negative",modelValue:s.selectAll,"onUpdate:modelValue":l[0]||(l[0]=t=>s.selectAll=t),onClick:s.selectAllItem},null,8,["modelValue","onClick"]),l[2]||(l[2]=a("div",null,"All",-1)),e(r,{onClick:l[1]||(l[1]=t=>s.deleteMessage(s.data._id)),color:"negative",round:"",flat:"",icon:"delete"}),l[3]||(l[3]=a("div",null,"Delete",-1)),e(y),l[4]||(l[4]=a("div",{class:"text-subtitle1"},"1 - 50",-1)),e(r,{color:"negative",round:"",flat:"",icon:"chevron_left"}),e(r,{color:"negative",round:"",flat:"",icon:"chevron_right"})]),_:1,__:[2,3,4]})]),_:1})])):(c(),v("div",U,[e(w,{color:"primary",size:"3em",thickness:10})]))]),_:1})}const re=I(N,[["render",H]]);export{re as default};
