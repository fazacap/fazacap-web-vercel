import{Q as w}from"./vm-BpR0lhSe.js";import{Q as h}from"./QCheckbox-CwMGqwgi.js";import{Q as V,a as b,b as g}from"./QList-8bNUshY-.js";import{Q as r}from"./QBtn-Dm1duDhf.js";import{Q as C}from"./QCard-XDS5dtx8.js";import{Q as x}from"./QSpace-sTQaMr3h.js";import{Q as y}from"./QPageSticky-Cxnlxfn8.js";import{Q as I}from"./QPage-DSwx4uPi.js";import{_ as A,d as $,B as M,C as c,D as o,E as v,f as e,I as a,H as B,F as q,L as z,af as D,K as m,c as S,N as L,r as _,w as N}from"./index-pymsZxO1.js";import{u as P}from"./admin-5tuHRDqo.js";import"./use-dark-DpSHBk_u.js";import"./private.use-form-B5fGNSRj.js";import"./dom-98T3mq5A.js";import"./index-NIGUFBhG.js";const U=$({name:"DashboardPage",setup(){const s=P(),l=S(()=>s.listMessage),Q=L(),p=_([!1]),f=_(!1),i=_([]);function t(n){Q.push("/admin/message/"+n)}function u(){if(f.value)for(let n in i.value)i.value[n].selected=!0;else for(let n in i.value)i.value[n].selected=!1}function d(n){s.deleteDataMessage({id:n})}return s.getListMessage(),N(i.value,()=>{console.log("update"),i.value.reduce((n,k)=>{k.selected&&p.value.push(k.id)})}),{viewMessage:t,selectAllItem:u,deleteMessage:d,listMessage:l,selectedItem:p,selectAll:f,dataTable:i}}}),E={key:0,class:"flex flex-center",style:{height:"70vh"}},F={key:1},R={style:{"padding-top":"25px"}},T={class:"row items-center"},H={class:"col-3"},K={class:"col-5 ellipsis q-px-md"},j={class:"col q-px-md"},G={class:"text-grey-8 q-gutter-xs"};function J(s,l,Q,p,f,i){return c(),M(I,null,{default:o(()=>[s.listMessage?(c(),v("div",F,[a("div",R,[e(C,null,{default:o(()=>[(c(!0),v(q,null,z(s.listMessage,(t,u)=>(c(),M(V,{bordered:"",separator:"",key:t},{default:o(()=>[e(b,{class:D({"item-select-new":t.baca_pesan===!1,"item-select-old":t.baca_pesan===!0}),active:t.selected,"active-class":"item-selected"},{default:o(()=>[e(g,{avatar:"",top:""},{default:o(()=>[e(h,{color:"negative",modelValue:s.selectedItem[u],"onUpdate:modelValue":d=>s.selectedItem[u]=d},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(g,{class:"cursor-pointer",onClick:d=>s.viewMessage(t.id)},{default:o(()=>[a("div",T,[a("div",H,m(t.nama_pengirim),1),a("div",K,m(t.isi_pesan),1),a("div",j,m(t.tanggal_dikirim),1)])]),_:2},1032,["onClick"]),e(g,{side:""},{default:o(()=>[a("div",G,[e(r,{class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"delete",onClick:d=>s.deleteMessage(t._id)},null,8,["onClick"]),e(r,{class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"done"}),e(r,{size:"12px",flat:"",dense:"",round:"",icon:"more_vert"})])]),_:2},1024)]),_:2},1032,["class","active"])]),_:2},1024))),128))]),_:1}),B(" "+m(s.selectedItem),1)]),e(y,{expand:"",position:"top",class:"bg-white"},{default:o(()=>[e(C,{class:"row full-width items-center q-gutter-x-md q-px-md"},{default:o(()=>[e(h,{color:"negative",modelValue:s.selectAll,"onUpdate:modelValue":l[0]||(l[0]=t=>s.selectAll=t),onClick:s.selectAllItem},null,8,["modelValue","onClick"]),l[2]||(l[2]=a("div",null,"All",-1)),e(r,{onClick:l[1]||(l[1]=t=>s.deleteMessage(s.data._id)),color:"negative",round:"",flat:"",icon:"delete"}),l[3]||(l[3]=a("div",null,"Delete",-1)),e(x),l[4]||(l[4]=a("div",{class:"text-subtitle1"},"1 - 50",-1)),e(r,{color:"negative",round:"",flat:"",icon:"chevron_left"}),e(r,{color:"negative",round:"",flat:"",icon:"chevron_right"})]),_:1,__:[2,3,4]})]),_:1})])):(c(),v("div",E,[e(w,{color:"primary",size:"3em",thickness:10})]))]),_:1})}const de=A(U,[["render",J]]);export{de as default};
