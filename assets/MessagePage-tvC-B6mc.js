import{Q as w}from"./vm-CiNItvwa.js";import{Q as h}from"./QCheckbox-_7N-m4sV.js";import{Q as V,a as x,b as v}from"./QList-DkwuItUG.js";import{Q as r}from"./QBtn-BgI3CEBh.js";import{Q as C}from"./QCard-DE3IUNbz.js";import{Q as y}from"./QSpace-CrUlDPeG.js";import{Q as I}from"./QPageSticky-BzUI_vzD.js";import{Q as A}from"./QPage-BNYkM3K5.js";import{_ as b,d as $,B as M,C as c,D as o,E as g,f as e,I as a,H as B,F as q,L as z,af as D,K as m,c as S,N as L,r as _,w as N}from"./index-ClpNKBAg.js";import{u as P}from"./admin-CXlO0d_D.js";import"./use-dark-Dxnp2wL_.js";import"./private.use-form-B9sxGSw-.js";import"./dom-DDPIz8CK.js";import"./index-NIGUFBhG.js";const U=$({name:"DashboardPage",setup(){const s=P();s.getListMessage();const l=S(()=>s.listMessage),Q=L(),f=_([!1]),p=_(!1),i=_([]);function t(n){Q.push("/admin/message/"+n)}function u(){if(p.value)for(let n in i.value)i.value[n].selected=!0;else for(let n in i.value)i.value[n].selected=!1}function d(n){s.deleteDataMessage({id:n})}return N(i.value,()=>{console.log("update"),i.value.reduce((n,k)=>{k.selected&&f.value.push(k.id)})}),{viewMessage:t,selectAllItem:u,deleteMessage:d,listMessage:l,selectedItem:f,selectAll:p,dataTable:i}}}),E={key:0,class:"flex flex-center",style:{height:"70vh"}},F={key:1},R={style:{"padding-top":"25px"}},T={class:"row"},H={class:"col-3"},K={class:"col-5 ellipsis q-px-md"},j={class:"col q-px-md"},G={class:"text-grey-8 q-gutter-xs"};function J(s,l,Q,f,p,i){return c(),M(A,null,{default:o(()=>[s.listMessage?(c(),g("div",F,[a("div",R,[e(C,null,{default:o(()=>[(c(!0),g(q,null,z(s.listMessage,(t,u)=>(c(),M(V,{bordered:"",separator:"",key:t},{default:o(()=>[e(x,{class:D({"item-select-new":t.read===!1,"item-select-old":t.read===!0}),active:t.selected,"active-class":"item-selected"},{default:o(()=>[e(v,{avatar:"",top:""},{default:o(()=>[e(h,{color:"negative",modelValue:s.selectedItem[u],"onUpdate:modelValue":d=>s.selectedItem[u]=d},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(v,{class:"cursor-pointer",onClick:d=>s.viewMessage(t._id)},{default:o(()=>[a("div",T,[a("div",H,m(t.name),1),a("div",K,m(t.message),1),a("div",j,m(t.date),1)])]),_:2},1032,["onClick"]),e(v,{side:""},{default:o(()=>[a("div",G,[e(r,{class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"delete",onClick:d=>s.deleteMessage(t._id)},null,8,["onClick"]),e(r,{class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"done"}),e(r,{size:"12px",flat:"",dense:"",round:"",icon:"more_vert"})])]),_:2},1024)]),_:2},1032,["class","active"])]),_:2},1024))),128))]),_:1}),B(" "+m(s.selectedItem),1)]),e(I,{expand:"",position:"top",class:"bg-white"},{default:o(()=>[e(C,{class:"row full-width items-center q-gutter-x-md q-px-md"},{default:o(()=>[e(h,{color:"negative",modelValue:s.selectAll,"onUpdate:modelValue":l[0]||(l[0]=t=>s.selectAll=t),onClick:s.selectAllItem},null,8,["modelValue","onClick"]),l[2]||(l[2]=a("div",null,"All",-1)),e(r,{onClick:l[1]||(l[1]=t=>s.deleteMessage(s.data._id)),color:"negative",round:"",flat:"",icon:"delete"}),l[3]||(l[3]=a("div",null,"Delete",-1)),e(y),l[4]||(l[4]=a("div",{class:"text-subtitle1"},"1 - 50",-1)),e(r,{color:"negative",round:"",flat:"",icon:"chevron_left"}),e(r,{color:"negative",round:"",flat:"",icon:"chevron_right"})]),_:1,__:[2,3,4]})]),_:1})])):(c(),g("div",E,[e(w,{color:"primary",size:"3em",thickness:10})]))]),_:1})}const de=b(U,[["render",J]]);export{de as default};
