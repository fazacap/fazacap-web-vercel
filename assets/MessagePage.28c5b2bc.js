import{a as K,u as G,Q as J}from"./QSpinner.02994ffa.js";import{Q as W,a as b}from"./QBtn.8c88437a.js";import{a as X,b as Y,h as Z,u as ee,c as te}from"./use-dark.29a886d7.js";import{r as V,c as n,h as d,g as le,af as _,v as A,_ as se,x as ae,aa as oe,w as ne,z as x,A as B,B as v,a4 as S,d as a,C as c,F as re,a8 as ue,E as ie,a9 as q}from"./index.3419fcda.js";import{u as ce,b as de}from"./use-form.b2714569.js";import{Q as fe,a as ve,b as $}from"./QList.a19e2d8d.js";import{Q as z}from"./QCard.dc55be54.js";import{Q as me}from"./QSpace.a60e380a.js";import{u as ge,Q as pe}from"./admin.622e18c8.js";import{Q as he}from"./QPage.58b9db4b.js";import"./dom.6bfca34d.js";import"./index.2cf0d985.js";function be(t,r){const e=V(null),u=n(()=>t.disable===!0?null:d("span",{ref:e,class:"no-outline",tabindex:-1}));function i(o){const s=r.value;o!==void 0&&o.type.indexOf("key")===0?s!==null&&document.activeElement!==s&&s.contains(document.activeElement)===!0&&s.focus():e.value!==null&&(o===void 0||s!==null&&s.contains(o.target)===!0)&&e.value.focus()}return{refocusTargetEl:u,refocusTarget:i}}var _e={xs:30,sm:35,md:40,lg:50,xl:60};const ke={...ee,...G,...ce,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:t=>t==="tf"||t==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},xe=["update:modelValue"];function Ve(t,r){const{props:e,slots:u,emit:i,proxy:o}=le(),{$q:s}=o,p=X(e,s),C=V(null),{refocusTargetEl:m,refocusTarget:g}=be(e,C),T=K(e,_e),k=n(()=>e.val!==void 0&&Array.isArray(e.modelValue)),y=n(()=>{const l=_(e.val);return k.value===!0?e.modelValue.findIndex(h=>_(h)===l):-1}),f=n(()=>k.value===!0?y.value>-1:_(e.modelValue)===_(e.trueValue)),I=n(()=>k.value===!0?y.value===-1:_(e.modelValue)===_(e.falseValue)),w=n(()=>f.value===!1&&I.value===!1),D=n(()=>e.disable===!0?-1:e.tabindex||0),E=n(()=>`q-${t} cursor-pointer no-outline row inline no-wrap items-center`+(e.disable===!0?" disabled":"")+(p.value===!0?` q-${t}--dark`:"")+(e.dense===!0?` q-${t}--dense`:"")+(e.leftLabel===!0?" reverse":"")),O=n(()=>{const l=f.value===!0?"truthy":I.value===!0?"falsy":"indet",h=e.color!==void 0&&(e.keepColor===!0||(t==="toggle"?f.value===!0:I.value!==!0))?` text-${e.color}`:"";return`q-${t}__inner relative-position non-selectable q-${t}__inner--${l}${h}`}),R=n(()=>{const l={type:"checkbox"};return e.name!==void 0&&Object.assign(l,{".checked":f.value,"^checked":f.value===!0?"checked":void 0,name:e.name,value:k.value===!0?e.val:e.trueValue}),l}),F=de(R),N=n(()=>{const l={tabindex:D.value,role:t==="toggle"?"switch":"checkbox","aria-label":e.label,"aria-checked":w.value===!0?"mixed":f.value===!0?"true":"false"};return e.disable===!0&&(l["aria-disabled"]="true"),l});function Q(l){l!==void 0&&(A(l),g(l)),e.disable!==!0&&i("update:modelValue",L(),l)}function L(){if(k.value===!0){if(f.value===!0){const l=e.modelValue.slice();return l.splice(y.value,1),l}return e.modelValue.concat([e.val])}if(f.value===!0){if(e.toggleOrder!=="ft"||e.toggleIndeterminate===!1)return e.falseValue}else if(I.value===!0){if(e.toggleOrder==="ft"||e.toggleIndeterminate===!1)return e.trueValue}else return e.toggleOrder!=="ft"?e.trueValue:e.falseValue;return e.indeterminateValue}function j(l){(l.keyCode===13||l.keyCode===32)&&A(l)}function U(l){(l.keyCode===13||l.keyCode===32)&&Q(l)}const H=r(f,w);return Object.assign(o,{toggle:Q}),()=>{const l=H();e.disable!==!0&&F(l,"unshift",` q-${t}__native absolute q-ma-none q-pa-none`);const h=[d("div",{class:O.value,style:T.value,"aria-hidden":"true"},l)];m.value!==null&&h.push(m.value);const M=e.label!==void 0?Y(u.default,[e.label]):Z(u.default);return M!==void 0&&h.push(d("div",{class:`q-${t}__label q-anchor--skip`},M)),d("div",{ref:C,class:E.value,...N.value,onClick:Q,onKeydown:j,onKeyup:U},h)}}const Ce=d("div",{key:"svg",class:"q-checkbox__bg absolute"},[d("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[d("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),d("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var P=te({name:"QCheckbox",props:ke,emits:xe,setup(t){function r(e,u){const i=n(()=>(e.value===!0?t.checkedIcon:u.value===!0?t.indeterminateIcon:t.uncheckedIcon)||null);return()=>i.value!==null?[d("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[d(W,{class:"q-checkbox__icon",name:i.value})])]:[Ce]}return Ve("checkbox",r)}});const Ie=ae({name:"DashboardPage",setup(){const t=ge();t.getListMessage();const r=n(()=>t.listMessage),e=oe(),u=V([]),i=V(!1),o=V([]);function s(m){e.push("/admin/message/"+m)}function p(m){if(i.value)for(let g in o.value)o.value[g].selected=!0;else for(let g in o.value)o.value[g].selected=!1}function C(m){t.deleteDataMessage({id:m})}return ne(o.value,()=>{console.log("update"),o.value.reduce((m,g)=>{g.selected&&u.value.push(g.id)})}),{viewMessage:s,selectAllItem:p,deleteMessage:C,listMessage:r,selectedItem:u,selectAll:i,dataTable:o}}}),qe={key:0,class:"flex flex-center",style:{height:"70vh"}},ye={key:1},Qe={style:{"padding-top":"25px"}},Se={class:"row"},$e={class:"col-3"},we={class:"col-5 ellipsis q-px-md"},Me={class:"col q-px-md"},Ae={class:"text-grey-8 q-gutter-xs"},Be=c("div",null,"All",-1),ze=c("div",null,"Mark as Read",-1),Pe=c("div",null,"Delete",-1),Te=c("div",{class:"text-subtitle1"},"1 - 50",-1);function De(t,r,e,u,i,o){return x(),B(he,null,{default:v(()=>[t.listMessage?(x(),S("div",ye,[c("div",Qe,[a(z,null,{default:v(()=>[(x(!0),S(re,null,ue(t.listMessage,s=>(x(),B(fe,{bordered:"",separator:"",key:s},{default:v(()=>[a(ve,{class:"item-select",active:s.selected,"active-class":"item-selected"},{default:v(()=>[a($,{avatar:"",top:""},{default:v(()=>[a(P,{color:"negative",modelValue:s.selected,"onUpdate:modelValue":p=>s.selected=p},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a($,{class:"cursor-pointer",onClick:p=>t.viewMessage(s._id)},{default:v(()=>[c("div",Se,[c("div",$e,q(s.name),1),c("div",we,q(s.message),1),c("div",Me,q(s.date),1)])]),_:2},1032,["onClick"]),a($,{side:""},{default:v(()=>[c("div",Ae,[a(b,{class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"delete",onClick:p=>t.deleteMessage(s._id)},null,8,["onClick"]),a(b,{class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"done"}),a(b,{size:"12px",flat:"",dense:"",round:"",icon:"more_vert"})])]),_:2},1024)]),_:2},1032,["active"])]),_:2},1024))),128))]),_:1}),ie(" "+q(t.selectedItem),1)]),a(pe,{expand:"",position:"top",class:"bg-white"},{default:v(()=>[a(z,{class:"row full-width items-center q-gutter-x-md q-px-md"},{default:v(()=>[a(P,{color:"negative",modelValue:t.selectAll,"onUpdate:modelValue":r[0]||(r[0]=s=>t.selectAll=s),onClick:t.selectAllItem},null,8,["modelValue","onClick"]),Be,a(b,{color:"negative",round:"",flat:"",icon:"drafts"}),ze,a(b,{onClick:r[1]||(r[1]=s=>t.deleteMessage(t.data._id)),color:"negative",round:"",flat:"",icon:"delete"}),Pe,a(me),Te,a(b,{color:"negative",round:"",flat:"",icon:"chevron_left"}),a(b,{color:"negative",round:"",flat:"",icon:"chevron_right"})]),_:1})]),_:1})])):(x(),S("div",qe,[a(J,{color:"primary",size:"3em",thickness:10})]))]),_:1})}var We=se(Ie,[["render",De]]);export{We as default};
