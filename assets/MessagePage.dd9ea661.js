import{a as K,u as G,Q as J}from"./QSpinner.7807418c.js";import{Q as W,a as b}from"./QBtn.6a4ecc2a.js";import{a as X,b as Y,h as Z,u as ee,c as te}from"./use-dark.c74718d7.js";import{r as V,c as r,h as f,g as le,af as _,v as A,_ as ae,x as oe,aa as se,ag as ne,w as re,z as x,A as B,B as g,a4 as Q,d as o,C as d,F as ue,a8 as ie,E as ce,a9 as I}from"./index.f76139b6.js";import{u as de,b as fe}from"./use-form.dd23b229.js";import{Q as ve,a as me,b as S}from"./QList.16a3b632.js";import{Q as P}from"./QCard.3711c4f5.js";import{Q as ge}from"./QSpace.c771b71c.js";import{Q as pe}from"./QPageSticky.54df8c7f.js";import{Q as he}from"./QPage.33eacaf3.js";import{a as be}from"./index.2cf0d985.js";import"./dom.cc2cfe49.js";function _e(t,n){const e=V(null),u=r(()=>t.disable===!0?null:f("span",{ref:e,class:"no-outline",tabindex:-1}));function s(i){const a=n.value;i!==void 0&&i.type.indexOf("key")===0?a!==null&&document.activeElement!==a&&a.contains(document.activeElement)===!0&&a.focus():e.value!==null&&(i===void 0||a!==null&&a.contains(i.target)===!0)&&e.value.focus()}return{refocusTargetEl:u,refocusTarget:s}}var ke={xs:30,sm:35,md:40,lg:50,xl:60};const xe={...ee,...G,...de,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:t=>t==="tf"||t==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},Ve=["update:modelValue"];function Ce(t,n){const{props:e,slots:u,emit:s,proxy:i}=le(),{$q:a}=i,p=X(e,a),c=V(null),{refocusTargetEl:v,refocusTarget:T}=_e(e,c),z=K(e,ke),k=r(()=>e.val!==void 0&&Array.isArray(e.modelValue)),q=r(()=>{const l=_(e.val);return k.value===!0?e.modelValue.findIndex(h=>_(h)===l):-1}),m=r(()=>k.value===!0?q.value>-1:_(e.modelValue)===_(e.trueValue)),C=r(()=>k.value===!0?q.value===-1:_(e.modelValue)===_(e.falseValue)),$=r(()=>m.value===!1&&C.value===!1),R=r(()=>e.disable===!0?-1:e.tabindex||0),E=r(()=>`q-${t} cursor-pointer no-outline row inline no-wrap items-center`+(e.disable===!0?" disabled":"")+(p.value===!0?` q-${t}--dark`:"")+(e.dense===!0?` q-${t}--dense`:"")+(e.leftLabel===!0?" reverse":"")),O=r(()=>{const l=m.value===!0?"truthy":C.value===!0?"falsy":"indet",h=e.color!==void 0&&(e.keepColor===!0||(t==="toggle"?m.value===!0:C.value!==!0))?` text-${e.color}`:"";return`q-${t}__inner relative-position non-selectable q-${t}__inner--${l}${h}`}),D=r(()=>{const l={type:"checkbox"};return e.name!==void 0&&Object.assign(l,{".checked":m.value,"^checked":m.value===!0?"checked":void 0,name:e.name,value:k.value===!0?e.val:e.trueValue}),l}),F=fe(D),N=r(()=>{const l={tabindex:R.value,role:t==="toggle"?"switch":"checkbox","aria-label":e.label,"aria-checked":$.value===!0?"mixed":m.value===!0?"true":"false"};return e.disable===!0&&(l["aria-disabled"]="true"),l});function y(l){l!==void 0&&(A(l),T(l)),e.disable!==!0&&s("update:modelValue",L(),l)}function L(){if(k.value===!0){if(m.value===!0){const l=e.modelValue.slice();return l.splice(q.value,1),l}return e.modelValue.concat([e.val])}if(m.value===!0){if(e.toggleOrder!=="ft"||e.toggleIndeterminate===!1)return e.falseValue}else if(C.value===!0){if(e.toggleOrder==="ft"||e.toggleIndeterminate===!1)return e.trueValue}else return e.toggleOrder!=="ft"?e.trueValue:e.falseValue;return e.indeterminateValue}function j(l){(l.keyCode===13||l.keyCode===32)&&A(l)}function U(l){(l.keyCode===13||l.keyCode===32)&&y(l)}const H=n(m,$);return Object.assign(i,{toggle:y}),()=>{const l=H();e.disable!==!0&&F(l,"unshift",` q-${t}__native absolute q-ma-none q-pa-none`);const h=[f("div",{class:O.value,style:z.value,"aria-hidden":"true"},l)];v.value!==null&&h.push(v.value);const w=e.label!==void 0?Y(u.default,[e.label]):Z(u.default);return w!==void 0&&h.push(f("div",{class:`q-${t}__label q-anchor--skip`},w)),f("div",{ref:c,class:E.value,...N.value,onClick:y,onKeydown:j,onKeyup:U},h)}}const Ie=f("div",{key:"svg",class:"q-checkbox__bg absolute"},[f("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[f("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),f("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var M=te({name:"QCheckbox",props:xe,emits:Ve,setup(t){function n(e,u){const s=r(()=>(e.value===!0?t.checkedIcon:u.value===!0?t.indeterminateIcon:t.uncheckedIcon)||null);return()=>s.value!==null?[f("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[f(W,{class:"q-checkbox__icon",name:s.value})])]:[Ie]}return Ce("checkbox",n)}});const qe=oe({name:"DashboardPage",setup(){const t=se(),n={}.APP_URL+"api",e=V([]),u=V(!1),s=V([]);function i(c){t.push("/admin/message/"+c)}function a(c){if(u.value)for(let v in s.value)s.value[v].selected=!0;else for(let v in s.value)s.value[v].selected=!1}function p(c){}return ne(()=>{be.get(n+"/messages").then(c=>{s.value=c.data}).catch(c=>{})}),re(s.value,()=>{console.log("update"),s.value.reduce((c,v)=>{v.selected&&e.value.push(v.id)})}),{viewMessage:i,selectAllItem:a,deleteMessage:p,selectedItem:e,selectAll:u,dataTable:s}}}),ye={key:0,class:"flex flex-center",style:{height:"70vh"}},Qe={key:1},Se={style:{"padding-top":"25px"}},$e={class:"row"},we={class:"col-2"},Ae={class:"col ellipsis q-px-md"},Be={class:"q-px-md"},Pe={class:"text-grey-8 q-gutter-xs"},Me=d("div",null,"All",-1),Te=d("div",null,"Mark as Read",-1),ze=d("div",null,"Delete",-1),Re=d("div",{class:"text-subtitle1"},"1 - 50",-1);function Ee(t,n,e,u,s,i){return x(),B(he,null,{default:g(()=>[t.dataTable==""?(x(),Q("div",ye,[o(J,{color:"primary",size:"3em",thickness:10})])):(x(),Q("div",Qe,[d("div",Se,[o(P,null,{default:g(()=>[(x(!0),Q(ue,null,ie(t.dataTable,a=>(x(),B(ve,{bordered:"",separator:"",key:a},{default:g(()=>[o(me,{class:"item-select",active:a.selected,"active-class":"item-selected"},{default:g(()=>[o(S,{avatar:"",top:""},{default:g(()=>[o(M,{color:"negative",modelValue:a.selected,"onUpdate:modelValue":p=>a.selected=p},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(S,{class:"cursor-pointer",onClick:p=>t.viewMessage(a.email)},{default:g(()=>[d("div",$e,[d("div",we,I(a.email),1),d("div",Ae,I(a.message),1),d("div",Be,I(a.date),1)])]),_:2},1032,["onClick"]),o(S,{side:""},{default:g(()=>[d("div",Pe,[o(b,{class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"delete",onClick:n[0]||(n[0]=p=>t.deleteMessage())}),o(b,{class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"done"}),o(b,{size:"12px",flat:"",dense:"",round:"",icon:"more_vert"})])]),_:1})]),_:2},1032,["active"])]),_:2},1024))),128))]),_:1}),ce(" "+I(t.selectedItem),1)]),o(pe,{expand:"",position:"top",class:"bg-white"},{default:g(()=>[o(P,{class:"row full-width items-center q-gutter-x-md q-px-md"},{default:g(()=>[o(M,{color:"negative",modelValue:t.selectAll,"onUpdate:modelValue":n[1]||(n[1]=a=>t.selectAll=a),onClick:t.selectAllItem},null,8,["modelValue","onClick"]),Me,o(b,{color:"negative",round:"",flat:"",icon:"drafts"}),Te,o(b,{color:"negative",round:"",flat:"",icon:"delete"}),ze,o(ge),Re,o(b,{color:"negative",round:"",flat:"",icon:"chevron_left"}),o(b,{color:"negative",round:"",flat:"",icon:"chevron_right"})]),_:1})]),_:1})]))]),_:1})}var Xe=ae(qe,[["render",Ee]]);export{Xe as default};
