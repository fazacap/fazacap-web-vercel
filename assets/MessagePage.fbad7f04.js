import{a as K,u as G,Q as J}from"./QSpinner.ef69d5c1.js";import{Q as W,a as b}from"./QBtn.68c64a4b.js";import{a as X,b as Y,h as Z,u as ee,c as te}from"./use-dark.de182390.js";import{r as V,c as r,h as d,g as se,af as _,v as A,$ as le,_ as ae,x as oe,aa as ne,w as re,z as x,A as B,B as v,a4 as S,d as a,C as c,F as ie,a8 as ue,E as ce,a9 as q}from"./index.cec5be02.js";import{u as de,b as fe}from"./use-form.c737e9b3.js";import{Q as ve,a as me,b as $}from"./QList.25c172bd.js";import{Q as P}from"./QCard.d69fd797.js";import{Q as ge}from"./QSpace.556f9d4a.js";import{Q as pe}from"./QPageSticky.eaa3ee92.js";import{Q as he}from"./QPage.dacae000.js";import{a as be}from"./index.2cf0d985.js";import"./dom.646b8c7a.js";function _e(t,n){const e=V(null),i=r(()=>t.disable===!0?null:d("span",{ref:e,class:"no-outline",tabindex:-1}));function u(o){const l=n.value;o!==void 0&&o.type.indexOf("key")===0?l!==null&&document.activeElement!==l&&l.contains(document.activeElement)===!0&&l.focus():e.value!==null&&(o===void 0||l!==null&&l.contains(o.target)===!0)&&e.value.focus()}return{refocusTargetEl:i,refocusTarget:u}}var ke={xs:30,sm:35,md:40,lg:50,xl:60};const xe={...ee,...G,...de,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:t=>t==="tf"||t==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},Ve=["update:modelValue"];function Ce(t,n){const{props:e,slots:i,emit:u,proxy:o}=se(),{$q:l}=o,g=X(e,l),C=V(null),{refocusTargetEl:p,refocusTarget:m}=_e(e,C),T=K(e,ke),k=r(()=>e.val!==void 0&&Array.isArray(e.modelValue)),y=r(()=>{const s=_(e.val);return k.value===!0?e.modelValue.findIndex(h=>_(h)===s):-1}),f=r(()=>k.value===!0?y.value>-1:_(e.modelValue)===_(e.trueValue)),I=r(()=>k.value===!0?y.value===-1:_(e.modelValue)===_(e.falseValue)),M=r(()=>f.value===!1&&I.value===!1),E=r(()=>e.disable===!0?-1:e.tabindex||0),O=r(()=>`q-${t} cursor-pointer no-outline row inline no-wrap items-center`+(e.disable===!0?" disabled":"")+(g.value===!0?` q-${t}--dark`:"")+(e.dense===!0?` q-${t}--dense`:"")+(e.leftLabel===!0?" reverse":"")),R=r(()=>{const s=f.value===!0?"truthy":I.value===!0?"falsy":"indet",h=e.color!==void 0&&(e.keepColor===!0||(t==="toggle"?f.value===!0:I.value!==!0))?` text-${e.color}`:"";return`q-${t}__inner relative-position non-selectable q-${t}__inner--${s}${h}`}),D=r(()=>{const s={type:"checkbox"};return e.name!==void 0&&Object.assign(s,{".checked":f.value,"^checked":f.value===!0?"checked":void 0,name:e.name,value:k.value===!0?e.val:e.trueValue}),s}),F=fe(D),L=r(()=>{const s={tabindex:E.value,role:t==="toggle"?"switch":"checkbox","aria-label":e.label,"aria-checked":M.value===!0?"mixed":f.value===!0?"true":"false"};return e.disable===!0&&(s["aria-disabled"]="true"),s});function Q(s){s!==void 0&&(A(s),m(s)),e.disable!==!0&&u("update:modelValue",N(),s)}function N(){if(k.value===!0){if(f.value===!0){const s=e.modelValue.slice();return s.splice(y.value,1),s}return e.modelValue.concat([e.val])}if(f.value===!0){if(e.toggleOrder!=="ft"||e.toggleIndeterminate===!1)return e.falseValue}else if(I.value===!0){if(e.toggleOrder==="ft"||e.toggleIndeterminate===!1)return e.trueValue}else return e.toggleOrder!=="ft"?e.trueValue:e.falseValue;return e.indeterminateValue}function j(s){(s.keyCode===13||s.keyCode===32)&&A(s)}function U(s){(s.keyCode===13||s.keyCode===32)&&Q(s)}const H=n(f,M);return Object.assign(o,{toggle:Q}),()=>{const s=H();e.disable!==!0&&F(s,"unshift",` q-${t}__native absolute q-ma-none q-pa-none`);const h=[d("div",{class:R.value,style:T.value,"aria-hidden":"true"},s)];p.value!==null&&h.push(p.value);const w=e.label!==void 0?Y(i.default,[e.label]):Z(i.default);return w!==void 0&&h.push(d("div",{class:`q-${t}__label q-anchor--skip`},w)),d("div",{ref:C,class:O.value,...L.value,onClick:Q,onKeydown:j,onKeyup:U},h)}}const Ie=d("div",{key:"svg",class:"q-checkbox__bg absolute"},[d("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[d("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),d("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var z=te({name:"QCheckbox",props:xe,emits:Ve,setup(t){function n(e,i){const u=r(()=>(e.value===!0?t.checkedIcon:i.value===!0?t.indeterminateIcon:t.uncheckedIcon)||null);return()=>u.value!==null?[d("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[d(W,{class:"q-checkbox__icon",name:u.value})])]:[Ie]}return Ce("checkbox",n)}});const qe="http://localhost:3000",ye=le("admin",{state:()=>({listMessage:null}),actions:{getListMessage(){this.loadingProcess=!0;const t={nama:"admin"};be.post(qe+"/message/list",t).then(n=>{this.listMessage=n.data}).catch(n=>{})}}}),Qe=oe({name:"DashboardPage",setup(){const t=ye();t.getListMessage();const n=r(()=>t.listMessage),e=ne(),i=V([]),u=V(!1),o=V([]);function l(p){e.push("/admin/message/"+p)}function g(p){if(u.value)for(let m in o.value)o.value[m].selected=!0;else for(let m in o.value)o.value[m].selected=!1}function C(p){}return re(o.value,()=>{console.log("update"),o.value.reduce((p,m)=>{m.selected&&i.value.push(m.id)})}),{viewMessage:l,selectAllItem:g,deleteMessage:C,listMessage:n,selectedItem:i,selectAll:u,dataTable:o}}}),Se={key:0,class:"flex flex-center",style:{height:"70vh"}},$e={key:1},Me={style:{"padding-top":"25px"}},we={class:"row"},Ae={class:"col-2"},Be={class:"col ellipsis q-px-md"},Pe={class:"q-px-md"},ze={class:"text-grey-8 q-gutter-xs"},Te=c("div",null,"All",-1),Ee=c("div",null,"Mark as Read",-1),Oe=c("div",null,"Delete",-1),Re=c("div",{class:"text-subtitle1"},"1 - 50",-1);function De(t,n,e,i,u,o){return x(),B(he,null,{default:v(()=>[t.listMessage?(x(),S("div",$e,[c("div",Me,[a(P,null,{default:v(()=>[(x(!0),S(ie,null,ue(t.listMessage,l=>(x(),B(ve,{bordered:"",separator:"",key:l},{default:v(()=>[a(me,{class:"item-select",active:l.selected,"active-class":"item-selected"},{default:v(()=>[a($,{avatar:"",top:""},{default:v(()=>[a(z,{color:"negative",modelValue:l.selected,"onUpdate:modelValue":g=>l.selected=g},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a($,{class:"cursor-pointer",onClick:g=>t.viewMessage(l.email)},{default:v(()=>[c("div",we,[c("div",Ae,q(l.email),1),c("div",Be,q(l.message),1),c("div",Pe,q(l.date),1)])]),_:2},1032,["onClick"]),a($,{side:""},{default:v(()=>[c("div",ze,[a(b,{class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"delete",onClick:n[0]||(n[0]=g=>t.deleteMessage())}),a(b,{class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"done"}),a(b,{size:"12px",flat:"",dense:"",round:"",icon:"more_vert"})])]),_:1})]),_:2},1032,["active"])]),_:2},1024))),128))]),_:1}),ce(" "+q(t.selectedItem),1)]),a(pe,{expand:"",position:"top",class:"bg-white"},{default:v(()=>[a(P,{class:"row full-width items-center q-gutter-x-md q-px-md"},{default:v(()=>[a(z,{color:"negative",modelValue:t.selectAll,"onUpdate:modelValue":n[1]||(n[1]=l=>t.selectAll=l),onClick:t.selectAllItem},null,8,["modelValue","onClick"]),Te,a(b,{color:"negative",round:"",flat:"",icon:"drafts"}),Ee,a(b,{color:"negative",round:"",flat:"",icon:"delete"}),Oe,a(ge),Re,a(b,{color:"negative",round:"",flat:"",icon:"chevron_left"}),a(b,{color:"negative",round:"",flat:"",icon:"chevron_right"})]),_:1})]),_:1})])):(x(),S("div",Se,[a(J,{color:"primary",size:"3em",thickness:10})]))]),_:1})}var Ze=ae(Qe,[["render",De]]);export{Ze as default};
